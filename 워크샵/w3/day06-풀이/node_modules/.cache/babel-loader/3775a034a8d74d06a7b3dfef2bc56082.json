{"remainingRequest":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\babel-loader\\lib\\index.js!D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\src\\components\\book\\include\\WriteForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\src\\components\\book\\include\\WriteForm.vue","mtime":1636694651336},{"path":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\04-Vue.js\\워크샵\\w3\\day06-풀이\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGh0dHAgZnJvbSAiQC91dGlsL2h0dHAtY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJ3cml0ZWZvcm0iLAogIHByb3BzOiB7CiAgICAvLyDsg4HsnIQgY29tcG9uZW5066GcIOu2gO2EsCDrhJjslrTsmKggdHlwZeygleuztOulvCDrsJvsnYwuCiAgICB0eXBlOiB7CiAgICAgIHR5cGU6IFN0cmluZwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzYm46ICIiLAogICAgICB0aXRsZTogIiIsCiAgICAgIGF1dGhvcjogIiIsCiAgICAgIHByaWNlOiAiIiwKICAgICAgY29udGVudDogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBpZiAodGhpcy50eXBlID09PSAibW9kaWZ5IikgewogICAgICAvLyDsg53shLHrkJwgYXhpb3PqsJ3ssrTrpbwg7J207Jqp7ZWY7JesIOyEnOuyhOuhnCDrj4TshJzsoJXrs7Qg67O064OELgogICAgICBodHRwLmdldCgiLyIuY29uY2F0KHRoaXMuJHJvdXRlLnBhcmFtcy5pc2JuKSkudGhlbihmdW5jdGlvbiAoX3JlZikgewogICAgICAgIHZhciBkYXRhID0gX3JlZi5kYXRhOwogICAgICAgIF90aGlzLmlzYm4gPSBkYXRhLmlzYm47CiAgICAgICAgX3RoaXMudGl0bGUgPSBkYXRhLnRpdGxlOwogICAgICAgIF90aGlzLmF1dGhvciA9IGRhdGEuYXV0aG9yOwogICAgICAgIF90aGlzLnByaWNlID0gZGF0YS5wcmljZTsKICAgICAgICBfdGhpcy5jb250ZW50ID0gZGF0YS5jb250ZW50OwogICAgICB9KTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOyeheugpeqwkiDssrTtgaztlZjquLAgLSDssrTtgazqsIAg7ISx6rO17ZWY66m0IHJlZ2lzdEJvb2sg7Zi47LacCiAgICBjaGVja1ZhbHVlOiBmdW5jdGlvbiBjaGVja1ZhbHVlKCkgewogICAgICAvLyDsgqzsmqnsnpAg7J6F66Cl6rCSIOyytO2BrO2VmOq4sAogICAgICAvLyBpc2JuLCDsoJzrqqksIOyggOyekCwg6rCA6rKpLCDshKTrqoXsnbQg7JeG7J2EIOqyveyasCDqsIEg7ZWt66qp7JeQIOunnuuKlCDrqZTshLjsp4Drpbwg7Lac66ClCiAgICAgIHZhciBlcnIgPSB0cnVlOwogICAgICB2YXIgbXNnID0gIiI7CiAgICAgICF0aGlzLmlzYm4gJiYgKG1zZyA9ICJpc2JuIOyeheugpe2VtOyjvOyEuOyalCIsIGVyciA9IGZhbHNlLCB0aGlzLiRyZWZzLmlzYm4uZm9jdXMoKSk7CiAgICAgIGVyciAmJiAhdGhpcy50aXRsZSAmJiAobXNnID0gIuygnOuqqSDsnoXroKXtlbTso7zshLjsmpQiLCBlcnIgPSBmYWxzZSwgdGhpcy4kcmVmcy50aXRsZS5mb2N1cygpKTsKICAgICAgZXJyICYmICF0aGlzLmF1dGhvciAmJiAobXNnID0gIuyggOyekCDsnoXroKXtlbTso7zshLjsmpQiLCBlcnIgPSBmYWxzZSwgdGhpcy4kcmVmcy5hdXRob3IuZm9jdXMoKSk7CiAgICAgIGVyciAmJiAhdGhpcy5wcmljZSAmJiAobXNnID0gIuqwgOqyqSDsnoXroKXtlbTso7zshLjsmpQiLCBlcnIgPSBmYWxzZSwgdGhpcy4kcmVmcy5wcmljZS5mb2N1cygpKTsKICAgICAgZXJyICYmICF0aGlzLmNvbnRlbnQgJiYgKG1zZyA9ICLrgrTsmqkg7J6F66Cl7ZW07KO87IS47JqUIiwgZXJyID0gZmFsc2UsIHRoaXMuJHJlZnMuY29udGVudC5mb2N1cygpKTsKICAgICAgaWYgKCFlcnIpIGFsZXJ0KG1zZyk7IC8vIOunjOyVvSwg64K07Jqp7J20IOuLpCDsnoXroKXrkJjslrQg7J6I64uk66m0IHJlZ2lzdEJvb2sg7Zi47LacCiAgICAgIGVsc2UgdGhpcy50eXBlID09ICJjcmVhdGUiID8gdGhpcy5yZWdpc3RCb29rKCkgOiB0aGlzLm1vZGlmeUJvb2soKTsKICAgIH0sCiAgICByZWdpc3RCb29rOiBmdW5jdGlvbiByZWdpc3RCb29rKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGh0dHAucG9zdCgiLyIsIHsKICAgICAgICBpc2JuOiB0aGlzLmlzYm4sCiAgICAgICAgdGl0bGU6IHRoaXMudGl0bGUsCiAgICAgICAgYXV0aG9yOiB0aGlzLmF1dGhvciwKICAgICAgICBwcmljZTogdGhpcy5wcmljZSwKICAgICAgICBjb250ZW50OiB0aGlzLmNvbnRlbnQKICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgdmFyIG1zZyA9ICLrk7HroZ0g7LKY66as7IucIOusuOygnOqwgCDrsJzsg53tlojsirXri4jri6QuIjsKCiAgICAgICAgaWYgKGRhdGEgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgbXNnID0gIuuTseuhneydtCDsmYTro4zrkJjsl4jsirXri4jri6QuIjsKICAgICAgICB9CgogICAgICAgIGFsZXJ0KG1zZyk7CgogICAgICAgIF90aGlzMi5tb3ZlTGlzdCgpOwogICAgICB9KTsKICAgIH0sCiAgICBtb2RpZnlCb29rOiBmdW5jdGlvbiBtb2RpZnlCb29rKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIGh0dHAucHV0KCIvIi5jb25jYXQodGhpcy5pc2JuKSwgewogICAgICAgIGlzYm46IHRoaXMuaXNibiwKICAgICAgICB0aXRsZTogdGhpcy50aXRsZSwKICAgICAgICBhdXRob3I6IHRoaXMuYXV0aG9yLAogICAgICAgIHByaWNlOiB0aGlzLnByaWNlLAogICAgICAgIGNvbnRlbnQ6IHRoaXMuY29udGVudAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmMykgewogICAgICAgIHZhciBkYXRhID0gX3JlZjMuZGF0YTsKICAgICAgICB2YXIgbXNnID0gIuyImOyglSDsspjrpqzsi5wg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4iOwoKICAgICAgICBpZiAoZGF0YSA9PT0gInN1Y2Nlc3MiKSB7CiAgICAgICAgICBtc2cgPSAi7IiY7KCV7J20IOyZhOujjOuQmOyXiOyKteuLiOuLpC4iOwogICAgICAgIH0KCiAgICAgICAgYWxlcnQobXNnKTsKCiAgICAgICAgX3RoaXMzLiRyb3V0ZXIucHVzaCgiL2Jvb2siKTsKICAgICAgfSk7CiAgICB9LAogICAgbW92ZUxpc3Q6IGZ1bmN0aW9uIG1vdmVMaXN0KCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2Jvb2siKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["WriteForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA,OAAA,IAAA,MAAA,oBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA;AACA,IAAA,IAAA,EAAA;AAAA,MAAA,IAAA,EAAA;AAAA;AAFA,GAFA;AAMA,EAAA,IANA,kBAMA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,KAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,KAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAdA;AAeA,EAAA,OAfA,qBAeA;AAAA;;AACA,QAAA,KAAA,IAAA,KAAA,QAAA,EAAA;AACA;AACA,MAAA,IAAA,CAAA,GAAA,YAAA,KAAA,MAAA,CAAA,MAAA,CAAA,IAAA,GAAA,IAAA,CAAA,gBAAA;AAAA,YAAA,IAAA,QAAA,IAAA;AACA,QAAA,KAAA,CAAA,IAAA,GAAA,IAAA,CAAA,IAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,IAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,KAAA,GAAA,IAAA,CAAA,KAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,OAAA;AACA,OANA;AAOA;AACA,GA1BA;AA2BA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,UAFA,wBAEA;AACA;AACA;AACA,UAAA,GAAA,GAAA,IAAA;AACA,UAAA,GAAA,GAAA,EAAA;AACA,OAAA,KAAA,IAAA,KACA,GAAA,GAAA,aAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,IAAA,CAAA,KAAA,EADA;AAEA,MAAA,GAAA,IACA,CAAA,KAAA,KADA,KAEA,GAAA,GAAA,WAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAFA;AAGA,MAAA,GAAA,IACA,CAAA,KAAA,MADA,KAEA,GAAA,GAAA,WAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,MAAA,CAAA,KAAA,EAFA;AAGA,MAAA,GAAA,IACA,CAAA,KAAA,KADA,KAEA,GAAA,GAAA,WAAA,EAAA,GAAA,GAAA,KAAA,EAAA,KAAA,KAAA,CAAA,KAAA,CAAA,KAAA,EAFA;AAGA,MAAA,GAAA,IACA,CAAA,KAAA,OADA,KAEA,GAAA,GAAA,WAAA,EACA,GAAA,GAAA,KADA,EAEA,KAAA,KAAA,CAAA,OAAA,CAAA,KAAA,EAJA;AAMA,UAAA,CAAA,GAAA,EAAA,KAAA,CAAA,GAAA,CAAA,CAAA,CACA;AADA,WAEA,KAAA,IAAA,IAAA,QAAA,GAAA,KAAA,UAAA,EAAA,GAAA,KAAA,UAAA,EAAA;AACA,KA3BA;AA4BA,IAAA,UA5BA,wBA4BA;AAAA;;AACA,MAAA,IAAA,CACA,IADA,CACA,GADA,EACA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,KAFA;AAGA,QAAA,MAAA,EAAA,KAAA,MAHA;AAIA,QAAA,KAAA,EAAA,KAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KAAA;AALA,OADA,EAQA,IARA,CAQA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,MAAA,CAAA,QAAA;AACA,OAfA;AAgBA,KA7CA;AA8CA,IAAA,UA9CA,wBA8CA;AAAA;;AACA,MAAA,IAAA,CACA,GADA,YACA,KAAA,IADA,GACA;AACA,QAAA,IAAA,EAAA,KAAA,IADA;AAEA,QAAA,KAAA,EAAA,KAAA,KAFA;AAGA,QAAA,MAAA,EAAA,KAAA,MAHA;AAIA,QAAA,KAAA,EAAA,KAAA,KAJA;AAKA,QAAA,OAAA,EAAA,KAAA;AALA,OADA,EAQA,IARA,CAQA,iBAAA;AAAA,YAAA,IAAA,SAAA,IAAA;AACA,YAAA,GAAA,GAAA,oBAAA;;AACA,YAAA,IAAA,KAAA,SAAA,EAAA;AACA,UAAA,GAAA,GAAA,cAAA;AACA;;AACA,QAAA,KAAA,CAAA,GAAA,CAAA;;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,OAfA;AAgBA,KA/DA;AAgEA,IAAA,QAhEA,sBAgEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA;AAlEA;AA3BA,CAAA","sourcesContent":["<template>\r\n  <div class=\"regist\">\r\n    <!-- v-if의 type을 이용하여 도서등록과 도서수정을 구분 -->\r\n    <h1 v-if=\"type == 'create'\" class=\"underline\">SSAFY 도서 등록</h1>\r\n    <h1 v-else class=\"underline\">SSAFY 도서 수정</h1>\r\n    <div class=\"regist_form\">\r\n      <label for=\"isbn\">도서번호</label>\r\n      <input\r\n        v-if=\"type == 'create'\"\r\n        type=\"text\"\r\n        id=\"isbn\"\r\n        name=\"isbn\"\r\n        v-model=\"isbn\"\r\n        ref=\"isbn\"\r\n      />\r\n      <input\r\n        v-else\r\n        type=\"text\"\r\n        id=\"isbn\"\r\n        name=\"isbn\"\r\n        v-model=\"isbn\"\r\n        ref=\"isbn\"\r\n        readonly\r\n      /><br />\r\n      <label for=\"title\">도서명</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"title\"\r\n        name=\"title\"\r\n        v-model=\"title\"\r\n        ref=\"title\"\r\n      /><br />\r\n      <label for=\"author\">저자</label>\r\n      <input\r\n        type=\"text\"\r\n        id=\"author\"\r\n        name=\"author\"\r\n        v-model=\"author\"\r\n        ref=\"author\"\r\n      /><br />\r\n      <label for=\"price\">가격</label>\r\n      <input\r\n        type=\"number\"\r\n        id=\"price\"\r\n        name=\"price\"\r\n        v-model=\"price\"\r\n        ref=\"price\"\r\n      /><br />\r\n      <label for=\"content\">설명</label><br />\r\n      <textarea\r\n        id=\"content\"\r\n        name=\"content\"\r\n        v-model=\"content\"\r\n        ref=\"content\"\r\n        cols=\"35\"\r\n        rows=\"5\"\r\n      ></textarea\r\n      ><br />\r\n      <button v-if=\"type == 'create'\" @click=\"checkValue\">등록</button>\r\n      <button v-else @click=\"checkValue\">수정</button>\r\n      <button @click=\"moveList\">목록</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport http from \"@/util/http-common\";\r\n\r\nexport default {\r\n  name: \"writeform\",\r\n  props: {\r\n    // 상위 component로 부터 넘어온 type정보를 받음.\r\n    type: { type: String },\r\n  },\r\n  data() {\r\n    return {\r\n      isbn: \"\",\r\n      title: \"\",\r\n      author: \"\",\r\n      price: \"\",\r\n      content: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    if (this.type === \"modify\") {\r\n      // 생성된 axios객체를 이용하여 서버로 도서정보 보냄.\r\n      http.get(`/${this.$route.params.isbn}`).then(({ data }) => {\r\n        this.isbn = data.isbn;\r\n        this.title = data.title;\r\n        this.author = data.author;\r\n        this.price = data.price;\r\n        this.content = data.content;\r\n      });\r\n    }\r\n  },\r\n  methods: {\r\n    // 입력값 체크하기 - 체크가 성공하면 registBook 호출\r\n    checkValue() {\r\n      // 사용자 입력값 체크하기\r\n      // isbn, 제목, 저자, 가격, 설명이 없을 경우 각 항목에 맞는 메세지를 출력\r\n      let err = true;\r\n      let msg = \"\";\r\n      !this.isbn &&\r\n        ((msg = \"isbn 입력해주세요\"), (err = false), this.$refs.isbn.focus());\r\n      err &&\r\n        !this.title &&\r\n        ((msg = \"제목 입력해주세요\"), (err = false), this.$refs.title.focus());\r\n      err &&\r\n        !this.author &&\r\n        ((msg = \"저자 입력해주세요\"), (err = false), this.$refs.author.focus());\r\n      err &&\r\n        !this.price &&\r\n        ((msg = \"가격 입력해주세요\"), (err = false), this.$refs.price.focus());\r\n      err &&\r\n        !this.content &&\r\n        ((msg = \"내용 입력해주세요\"),\r\n        (err = false),\r\n        this.$refs.content.focus());\r\n\r\n      if (!err) alert(msg);\r\n      // 만약, 내용이 다 입력되어 있다면 registBook 호출\r\n      else this.type == \"create\" ? this.registBook() : this.modifyBook();\r\n    },\r\n    registBook() {\r\n      http\r\n        .post(\"/\", {\r\n          isbn: this.isbn,\r\n          title: this.title,\r\n          author: this.author,\r\n          price: this.price,\r\n          content: this.content,\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"등록 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"등록이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n          this.moveList();\r\n        });\r\n    },\r\n    modifyBook() {\r\n      http\r\n        .put(`/${this.isbn}`, {\r\n          isbn: this.isbn,\r\n          title: this.title,\r\n          author: this.author,\r\n          price: this.price,\r\n          content: this.content,\r\n        })\r\n        .then(({ data }) => {\r\n          let msg = \"수정 처리시 문제가 발생했습니다.\";\r\n          if (data === \"success\") {\r\n            msg = \"수정이 완료되었습니다.\";\r\n          }\r\n          alert(msg);\r\n          this.$router.push(\"/book\");\r\n        });\r\n    },\r\n    moveList() {\r\n      this.$router.push(\"/book\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.regist {\r\n  padding: 10px;\r\n}\r\n.regist_form {\r\n  text-align: left;\r\n  border-radius: 5px;\r\n  background-color: #f2f2f2;\r\n  padding: 20px;\r\n}\r\ninput,\r\ntextarea,\r\n.view {\r\n  width: 100%;\r\n  padding: 12px 20px;\r\n  margin: 8px 0;\r\n  display: inline-block;\r\n  border: 1px solid #ccc;\r\n  border-radius: 4px;\r\n  box-sizing: border-box;\r\n  color: #787878;\r\n  font-size: medium;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/book/include"}]}