{"remainingRequest":"D:\\SSAFY\\04-Vue.js\\1118\\last\\node_modules\\babel-loader\\lib\\index.js!D:\\SSAFY\\04-Vue.js\\1118\\last\\node_modules\\eslint-loader\\index.js??ref--14-0!D:\\SSAFY\\04-Vue.js\\1118\\last\\src\\store\\modules\\memberStore.js","dependencies":[{"path":"D:\\SSAFY\\04-Vue.js\\1118\\last\\src\\store\\modules\\memberStore.js","mtime":1637172454140},{"path":"D:\\SSAFY\\04-Vue.js\\1118\\last\\babel.config.js","mtime":1637023258844},{"path":"D:\\SSAFY\\04-Vue.js\\1118\\last\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\SSAFY\\04-Vue.js\\1118\\last\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\SSAFY\\04-Vue.js\\1118\\last\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L1NTQUZZLzA0LVZ1ZS5qcy8xMTE4L2xhc3Qvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBqd3RfZGVjb2RlIGZyb20gImp3dC1kZWNvZGUiOwppbXBvcnQgeyBsb2dpbiB9IGZyb20gIkAvYXBpL21lbWJlci5qcyI7CmltcG9ydCB7IGZpbmRCeUlkIH0gZnJvbSAiLi4vLi4vYXBpL21lbWJlciI7CnZhciBtZW1iZXJTdG9yZSA9IHsKICBuYW1lc3BhY2VkOiB0cnVlLAogIHN0YXRlOiB7CiAgICBpc0xvZ2luOiBmYWxzZSwKICAgIGlzTG9naW5FcnJvcjogZmFsc2UsCiAgICB1c2VySW5mbzogbnVsbAogIH0sCiAgZ2V0dGVyczogewogICAgY2hlY2tVc2VySW5mbzogZnVuY3Rpb24gY2hlY2tVc2VySW5mbyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUudXNlckluZm87CiAgICB9CiAgfSwKICBtdXRhdGlvbnM6IHsKICAgIFNFVF9JU19MT0dJTjogZnVuY3Rpb24gU0VUX0lTX0xPR0lOKHN0YXRlLCBpc0xvZ2luKSB7CiAgICAgIHN0YXRlLmlzTG9naW4gPSBpc0xvZ2luOwogICAgfSwKICAgIFNFVF9JU19MT0dJTl9FUlJPUjogZnVuY3Rpb24gU0VUX0lTX0xPR0lOX0VSUk9SKHN0YXRlLCBpc0xvZ2luRXJyb3IpIHsKICAgICAgc3RhdGUuaXNMb2dpbkVycm9yID0gaXNMb2dpbkVycm9yOwogICAgfSwKICAgIFNFVF9VU0VSX0lORk86IGZ1bmN0aW9uIFNFVF9VU0VSX0lORk8oc3RhdGUsIHVzZXJJbmZvKSB7CiAgICAgIHN0YXRlLmlzTG9naW4gPSB0cnVlOwogICAgICBzdGF0ZS51c2VySW5mbyA9IHVzZXJJbmZvOwogICAgfQogIH0sCiAgYWN0aW9uczogewogICAgdXNlckNvbmZpcm06IGZ1bmN0aW9uIHVzZXJDb25maXJtKF9yZWYsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgY29tbWl0OwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gbG9naW4odXNlciwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhLm1lc3NhZ2UgPT09ICJzdWNjZXNzIikgewogICAgICAgICAgICAgICAgICAgIHZhciB0b2tlbiA9IHJlc3BvbnNlLmRhdGFbImFjY2Vzcy10b2tlbiJdOwogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX0lTX0xPR0lOIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgICAgY29tbWl0KCJTRVRfSVNfTE9HSU5fRVJST1IiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgiYWNjZXNzLXRva2VuIiwgdG9rZW4pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX0lTX0xPR0lOIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgICAgIGNvbW1pdCgiU0VUX0lTX0xPR0lOX0VSUk9SIiwgdHJ1ZSk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uICgpIHt9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldFVzZXJJbmZvOiBmdW5jdGlvbiBnZXRVc2VySW5mbyhfcmVmMiwgdG9rZW4pIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgdmFyIGRlY29kZV90b2tlbiA9IGp3dF9kZWNvZGUodG9rZW4pOwogICAgICBmaW5kQnlJZChkZWNvZGVfdG9rZW4udXNlcmlkLCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5tZXNzYWdlID09PSAic3VjY2VzcyIpIHsKICAgICAgICAgIGNvbW1pdCgiU0VUX1VTRVJfSU5GTyIsIHJlc3BvbnNlLmRhdGEudXNlckluZm8pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygi7Jyg7KCAIOygleuztCDsl4bsnYwhISIpOwogICAgICAgIH0KICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydCBkZWZhdWx0IG1lbWJlclN0b3JlOw=="},{"version":3,"sources":["D:/SSAFY/04-Vue.js/1118/last/src/store/modules/memberStore.js"],"names":["jwt_decode","login","findById","memberStore","namespaced","state","isLogin","isLoginError","userInfo","getters","checkUserInfo","mutations","SET_IS_LOGIN","SET_IS_LOGIN_ERROR","SET_USER_INFO","actions","userConfirm","user","commit","response","data","message","token","sessionStorage","setItem","getUserInfo","decode_token","userid","console","log","error"],"mappings":";;AAAA,OAAOA,UAAP,MAAuB,YAAvB;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AAEA,IAAMC,WAAW,GAAG;AAClBC,EAAAA,UAAU,EAAE,IADM;AAElBC,EAAAA,KAAK,EAAE;AACLC,IAAAA,OAAO,EAAE,KADJ;AAELC,IAAAA,YAAY,EAAE,KAFT;AAGLC,IAAAA,QAAQ,EAAE;AAHL,GAFW;AAOlBC,EAAAA,OAAO,EAAE;AACPC,IAAAA,aAAa,EAAE,uBAAUL,KAAV,EAAiB;AAC9B,aAAOA,KAAK,CAACG,QAAb;AACD;AAHM,GAPS;AAYlBG,EAAAA,SAAS,EAAE;AACTC,IAAAA,YAAY,EAAE,sBAACP,KAAD,EAAQC,OAAR,EAAoB;AAChCD,MAAAA,KAAK,CAACC,OAAN,GAAgBA,OAAhB;AACD,KAHQ;AAITO,IAAAA,kBAAkB,EAAE,4BAACR,KAAD,EAAQE,YAAR,EAAyB;AAC3CF,MAAAA,KAAK,CAACE,YAAN,GAAqBA,YAArB;AACD,KANQ;AAOTO,IAAAA,aAAa,EAAE,uBAACT,KAAD,EAAQG,QAAR,EAAqB;AAClCH,MAAAA,KAAK,CAACC,OAAN,GAAgB,IAAhB;AACAD,MAAAA,KAAK,CAACG,QAAN,GAAiBA,QAAjB;AACD;AAVQ,GAZO;AAwBlBO,EAAAA,OAAO,EAAE;AACDC,IAAAA,WADC,6BACuBC,IADvB,EAC6B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAhBC,gBAAAA,MAAgB,QAAhBA,MAAgB;AAAA;AAAA,uBAC5BjB,KAAK,CACTgB,IADS,EAET,UAACE,QAAD,EAAc;AACZ,sBAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,SAA9B,EAAyC;AACvC,wBAAIC,KAAK,GAAGH,QAAQ,CAACC,IAAT,CAAc,cAAd,CAAZ;AACAF,oBAAAA,MAAM,CAAC,cAAD,EAAiB,IAAjB,CAAN;AACAA,oBAAAA,MAAM,CAAC,oBAAD,EAAuB,KAAvB,CAAN;AACAK,oBAAAA,cAAc,CAACC,OAAf,CAAuB,cAAvB,EAAuCF,KAAvC;AACD,mBALD,MAKO;AACLJ,oBAAAA,MAAM,CAAC,cAAD,EAAiB,KAAjB,CAAN;AACAA,oBAAAA,MAAM,CAAC,oBAAD,EAAuB,IAAvB,CAAN;AACD;AACF,iBAZQ,EAaT,YAAM,CAAE,CAbC,CADuB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBnC,KAjBM;AAkBPO,IAAAA,WAlBO,8BAkBiBH,KAlBjB,EAkBwB;AAAA,UAAjBJ,MAAiB,SAAjBA,MAAiB;AAC7B,UAAIQ,YAAY,GAAG1B,UAAU,CAACsB,KAAD,CAA7B;AACApB,MAAAA,QAAQ,CACNwB,YAAY,CAACC,MADP,EAEN,UAACR,QAAD,EAAc;AACZ,YAAIA,QAAQ,CAACC,IAAT,CAAcC,OAAd,KAA0B,SAA9B,EAAyC;AACvCH,UAAAA,MAAM,CAAC,eAAD,EAAkBC,QAAQ,CAACC,IAAT,CAAcZ,QAAhC,CAAN;AACD,SAFD,MAEO;AACLoB,UAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD;AACF,OARK,EASN,UAACC,KAAD,EAAW;AACTF,QAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD,OAXK,CAAR;AAaD;AAjCM;AAxBS,CAApB;AA6DA,eAAe3B,WAAf","sourcesContent":["import jwt_decode from \"jwt-decode\";\r\nimport { login } from \"@/api/member.js\";\r\nimport { findById } from \"../../api/member\";\r\n\r\nconst memberStore = {\r\n  namespaced: true,\r\n  state: {\r\n    isLogin: false,\r\n    isLoginError: false,\r\n    userInfo: null,\r\n  },\r\n  getters: {\r\n    checkUserInfo: function (state) {\r\n      return state.userInfo;\r\n    },\r\n  },\r\n  mutations: {\r\n    SET_IS_LOGIN: (state, isLogin) => {\r\n      state.isLogin = isLogin;\r\n    },\r\n    SET_IS_LOGIN_ERROR: (state, isLoginError) => {\r\n      state.isLoginError = isLoginError;\r\n    },\r\n    SET_USER_INFO: (state, userInfo) => {\r\n      state.isLogin = true;\r\n      state.userInfo = userInfo;\r\n    },\r\n  },\r\n  actions: {\r\n    async userConfirm({ commit }, user) {\r\n      await login(\r\n        user,\r\n        (response) => {\r\n          if (response.data.message === \"success\") {\r\n            let token = response.data[\"access-token\"];\r\n            commit(\"SET_IS_LOGIN\", true);\r\n            commit(\"SET_IS_LOGIN_ERROR\", false);\r\n            sessionStorage.setItem(\"access-token\", token);\r\n          } else {\r\n            commit(\"SET_IS_LOGIN\", false);\r\n            commit(\"SET_IS_LOGIN_ERROR\", true);\r\n          }\r\n        },\r\n        () => {}\r\n      );\r\n    },\r\n    getUserInfo({ commit }, token) {\r\n      let decode_token = jwt_decode(token);\r\n      findById(\r\n        decode_token.userid,\r\n        (response) => {\r\n          if (response.data.message === \"success\") {\r\n            commit(\"SET_USER_INFO\", response.data.userInfo);\r\n          } else {\r\n            console.log(\"유저 정보 없음!!\");\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log(error);\r\n        }\r\n      );\r\n    },\r\n  },\r\n};\r\n\r\nexport default memberStore;\r\n"]}]}